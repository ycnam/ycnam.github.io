---
import { getArchiveData } from '../lib/archives';

const archiveData = await getArchiveData();
const monthNames = ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'];
---

<nav class="archive-nav" aria-label="월별 아카이브">
  {archiveData.map(yearData => (
    <div class="archive-year">
      <strong class="year-label">{yearData.year}</strong>
      <ul class="month-list">
        {yearData.months.map(monthData => (
          <li>
            <a href={monthData.url}>
              {monthNames[monthData.month - 1]} ({monthData.count})
            </a>
          </li>
        ))}
      </ul>
    </div>
  ))}
</nav>

<style>
  .archive-year {
    margin-bottom: 0.75rem;
  }

  .year-label {
    font-size: 0.85rem;
    color: var(--color-muted);
    display: block;
    margin-bottom: 0.25rem;
  }

  .month-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .month-list li {
    font-size: 0.8rem;
  }

  .month-list a {
    color: inherit;
    text-decoration: none;
  }

  .month-list a:hover {
    color: var(--color-accent);
  }
</style>
